<qnb-section-header title="Transaction Entitlement"></qnb-section-header>

<form [formGroup]="transactionEntitlement" (ngSubmit)="onSubmit()">
	<nb-card>
		<nb-card-body>
			<div class="col-md-12">
				<div class="row new-row">
					<div class="col-md-12">
						<div class="form-group">
							<label for="">Unit</label>
							<nb-select fullWidth style="width: 100%;" formControlName="unit" placeholder="Select">
								<nb-option *ngFor= "let unit of units" [value]="unit.name">
									{{unit.name}}
								</nb-option>
							</nb-select>
							<span class="help-block" *ngIf="!transactionEntitlement.get('unit').valid && transactionEntitlement.get('unit').touched">
							<span *ngIf="transactionEntitlement.get('unit').errors['required']">
								This field is required!
							</span>
						</span>
						</div>
					</div>
				</div>
				<div class="row new-row" *ngIf="transactionEntitlement.get('unit').valid">
					<div class="col-md-12">
						<div class="form-group">
							<table mdbTable class="table">
								<tbody>
									<tr mdbTableCol>
										<th scope="col" *ngFor="let head of headElements">{{ head }}</th>
									</tr>
									<tr mdbTableCol>
										<th scope="row">Accounts</th>
										<td>
											<nb-checkbox status="basic" *ngFor= "let transactionDesc of accountTransactionDescs" [value]="transactionDesc.name">{{transactionDesc.name}}</nb-checkbox>
										</td>
									</tr>
									<tr mdbTableCol>
										<th scope="row">Cheques</th>
										<td>
											<nb-checkbox status="basic" *ngFor= "let transactionDesc of chequeTransactionDescs" [value]="transactionDesc.name">{{transactionDesc.name}}</nb-checkbox>
										</td>
									</tr>
									<tr mdbTableCol>
										<th scope="row">Contact Bank</th>
										<td>
											<nb-checkbox status="basic"  *ngFor= "let transactionDesc of contactBankTransactionDescs" [value]="transactionDesc.name">{{transactionDesc.name}}</nb-checkbox>
										</td>
									</tr>

									<tr mdbTableCol *ngFor= "let transactionDesc of ipoTransactionDescs" [value]="transactionDesc.name">
										<th scope="row">IPO</th>
										<td>
											<nb-checkbox status="basic">{{transactionDesc.name}}</nb-checkbox>
										</td>
									</tr>
								</tbody>
							</table> 
						</div>
					</div>
					<div class="col-md-12">
						<div class="row new-row">
							<div class="col-md-6">
								<div class="form-group">
									<label>Date & Time</label>
									<input nbInput fullWidth [ngxMatDatetimePicker]="picker" placeholder="Choose a date & time">
									<mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
									<ngx-mat-datetime-picker #picker></ngx-mat-datetime-picker>
								</div>
							</div>
							<div class="col-md-6">
								<div class="form-group">
									<label for="">Channel</label>
									<nb-select fullWidth style="width: 100%;" placeholder="Select">
										<nb-option value="1">IB</nb-option>
										<nb-option value="2">MB</nb-option>
										<nb-option value="2">IB & MB</nb-option>
									</nb-select>
								</div>
							</div>
						</div>
					</div>
					<div class="col-md-12">
						<div class="row new-row">
							<div class="col-md-12">
								<div class="form-group">
									<label for="">Comments</label>
									<textarea nbInput fullWidth style="width: 100%;" placeholder="Comments"></textarea>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</nb-card-body>

		<nb-card-footer>
			<div style="float:right">
			  <button nbButton hero status="normal" (click)="onClear()">Reset</button>
			  <button type="submit" nbButton hero status="success" [disabled]="!transactionEntitlement.valid">Save</button>
			</div>
		  </nb-card-footer>
	</nb-card>
	
</form>



